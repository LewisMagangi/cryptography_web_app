{% load static %}

{% if template_name == 'keysize_template' %}
    <div class="performance-analysis">
        <h4>Key Size Analysis for {{ algorithm|upper }}</h4>
        <div class="key-size-analysis mb-4">
            <div class="algorithm-details mb-3">
                <p><strong>Input File Size:</strong> {{ file_size_bytes|floatformat:8 }} bytes ({{ file_size_kb|floatformat:8 }} KB)</p>
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Key Size</th>
                        <th>Operation</th>
                        <th>Estimated Time (s)</th>
                        <th>Processing Rate (MB/s)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in rows %}
                    <tr>
                        <td>{{ row.key_size_label }}</td>
                        <td>{{ row.operation|title }}</td>
                        <td class="time-cell">{{ row.estimated_time|floatformat:8 }}</td>
                        <td class="rate-cell">{{ row.rate|floatformat:8 }}</td>
                    </tr>
                    {% endfor %}
                    {% if average %}
                    <tr class="table-info">
                        <td colspan="2"><strong>Overall Average</strong></td>
                        <td class="time-cell">{{ average.time|floatformat:8 }}</td>
                        <td class="rate-cell"><strong>{{ average.rate|floatformat:8 }}</strong></td>
                    </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
{% endif %}

{% if template_name == 'filesize_template' %}
    {# File Size Analysis Template #}
    <div class="performance-analysis">
        <h4>File Size Analysis for {{ algorithm|upper }}</h4>
        <div class="file-details mb-3">
            <p><strong>Input File Size:</strong> {{ size_display }}</p>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>File Size</th>
                    <th>Operation</th>
                    <th>Estimated Time (s)</th>
                    <th>Processing Rate (MB/s)</th>
                </tr>
            </thead>
            <tbody>
                {% for row in rows %}
                <tr class="performance-row">
                    <td>{{ row.size_display }}</td>
                    <td>{{ row.operation|title }}</td>
                    <td class="time-cell">{{ row.estimated_time|floatformat:6 }}</td>
                    <td class="rate-cell">{{ row.rate|floatformat:2 }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endif %}

{% if template_name == 'hash_template' %}
    {# Hash Analysis Template #}
    <div class="hash-analysis">
        <h5>Hash Performance Analysis</h5>
        <div class="summary mb-3">
            <p><strong>Average Processing Rate:</strong> {{ avg_rate|floatformat:2 }} MB/s</p>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>File Size (MB)</th>
                    <th>Estimated Time (s)</th>
                    <th>Rate (MB/s)</th>
                </tr>
            </thead>
            <tbody>
                {% for interval in intervals %}
                <tr class="performance-row">
                    <td>{{ interval.size|floatformat:2 }}</td>
                    <td class="time-cell">{{ interval.time|floatformat:4 }}</td>
                    <td class="rate-cell">{{ interval.rate|floatformat:2 }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endif %}
